<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23667eea' width='100' height='100'/><text x='50' y='65' font-size='60' font-weight='bold' text-anchor='middle' fill='white' font-family='Arial'>‚úã</text></svg>">
</head>
<body>
    <div id="app">
        <!-- Authentication screens -->
        <div id="auth-screen" class="screen active">
            <h1>Rock Paper Scissors</h1>
            <div class="auth-container">
                <div id="login-form" class="auth-form">
                    <h2>Login</h2>
                    <input type="text" id="login-username" placeholder="Username" class="auth-input">
                    <input type="password" id="login-password" placeholder="Password" class="auth-input">
                    <button id="login-btn" class="auth-btn">Login</button>
                    <p class="auth-toggle">Don't have an account? <span id="toggle-to-register" class="auth-link">Register here</span></p>
                    <div id="login-error" class="error-message hidden"></div>
                </div>
                
                <div id="register-form" class="auth-form hidden">
                    <h2>Register</h2>
                    <input type="text" id="register-username" placeholder="Choose a username" class="auth-input">
                    <input type="password" id="register-password" placeholder="Choose a password" class="auth-input">
                    <input type="password" id="register-confirm" placeholder="Confirm password" class="auth-input">
                    <button id="register-btn" class="auth-btn">Register</button>
                    <p class="auth-toggle">Already have an account? <span id="toggle-to-login" class="auth-link">Login here</span></p>
                    <div id="register-error" class="error-message hidden"></div>
                </div>
            </div>
        </div>

        <!-- Dashboard screen -->
        <div id="dashboard" class="screen">
            <div class="dashboard-header">
                <h1>Rock Paper Scissors</h1>
                <div class="user-info">
                    <span id="username-display">Player</span>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>
            
            <div class="dashboard-content">
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-label">Single Player Points</div>
                        <div class="stat-value" id="sp-points">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Multiplayer Score</div>
                        <div class="stat-value" id="mp-score">1500</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Rank</div>
                        <div class="stat-value" id="player-rank">#--</div>
                    </div>
                </div>
                
                <button id="leaderboard-btn" class="dashboard-btn">üèÜ Leaderboard</button>
                <button id="play-btn" class="dashboard-btn">üéÆ Play Game</button>
            </div>
        </div>

        <!-- Leaderboard screen -->
        <div id="leaderboard" class="screen">
            <h2>Leaderboard</h2>
            <div class="leaderboard-tabs">
                <button id="sp-leaderboard-tab" class="leaderboard-tab active" data-type="sp">
                    Single Player
                </button>
                <button id="mp-leaderboard-tab" class="leaderboard-tab" data-type="mp">
                    Multiplayer
                </button>
            </div>
            <div class="leaderboard-container">
                <div id="leaderboard-list" class="leaderboard-list">
                    <!-- Leaderboard entries will be populated here -->
                </div>
            </div>
            <button id="back-to-dashboard" class="back-btn">‚Üê Back to Dashboard</button>
        </div>

        <!-- Game content will be dynamically loaded here -->
        <div id="mode-selection" class="screen">
            <h1>Rock Paper Scissors</h1>
            <p class="subtitle">Choose your game mode</p>
            <div class="mode-buttons">
                <button id="pvai-btn" class="mode-btn" data-mode="pvai">
                    <div class="btn-icon">ü§ñ</div>
                    <div class="btn-text">Player vs AI</div>
                    <div class="btn-description">Challenge the computer</div>
                </button>
                <button id="pvp-btn" class="mode-btn" data-mode="pvp">
                    <div class="btn-icon">üë•</div>
                    <div class="btn-text">Player vs Player</div>
                    <div class="btn-description">Play with a friend online</div>
                </button>
            </div>
            <div id="mode-selection-error" class="error-message hidden"></div>
            <button id="back-to-dashboard-from-mode" class="back-btn">‚Üê Back to Dashboard</button>
        </div>
        
        <div id="ai-difficulty" class="screen">
            <h2>Select AI Difficulty</h2>
            <div class="difficulty-buttons">
                <button id="easy-btn" class="difficulty-btn" data-difficulty="easy">
                    <div class="difficulty-icon">üòä</div>
                    <div class="difficulty-text">Easy</div>
                    <div class="difficulty-description">Random moves, perfect for beginners</div>
                </button>
                <button id="medium-btn" class="difficulty-btn" data-difficulty="medium">
                    <div class="difficulty-icon">ü§î</div>
                    <div class="difficulty-text">Medium</div>
                    <div class="difficulty-description">Basic patterns, moderate challenge</div>
                </button>
                <button id="hard-btn" class="difficulty-btn" data-difficulty="hard">
                    <div class="difficulty-icon">üß†</div>
                    <div class="difficulty-text">Hard</div>
                    <div class="difficulty-description">Advanced AI, maximum challenge</div>
                </button>
            </div>
            <button id="back-to-mode" class="back-btn">‚Üê Back to Mode Selection</button>
        </div>
        
        <div id="multiplayer-lobby" class="screen">
            <h2>Multiplayer Lobby</h2>
            <div class="lobby-options">
                <button id="quickplay-btn" class="lobby-btn">
                    <div class="lobby-icon">‚ö°</div>
                    <div class="lobby-text">Quick Play</div>
                </button>
                <button id="create-room-btn" class="lobby-btn">
                    <div class="lobby-icon">‚ûï</div>
                    <div class="lobby-text">Create Room</div>
                </button>
                <button id="join-room-btn" class="lobby-btn">
                    <div class="lobby-icon">üö™</div>
                    <div class="lobby-text">Join Room</div>
                </button>
            </div>
            <div id="room-code-input" class="room-input hidden">
                <input type="text" id="room-code" placeholder="Enter room code" maxlength="6">
                <button id="join-room-submit">Join</button>
            </div>
            <div id="multiplayer-error" class="error-message hidden"></div>
            <button id="back-to-mode-mp" class="back-btn">‚Üê Back to Mode Selection</button>
        </div>
        
        <div id="waiting-room" class="screen">
            <h2>Waiting Room</h2>
            <div id="connection-status" style="text-align: right; margin-bottom: 10px; font-weight: bold; color: #27ae60;">‚úì Connected</div>
            <div class="room-info">
                <div class="room-code-section">
                    <label>Room Code:</label>
                    <div id="room-code-display" class="room-code">XXXXXX</div>
                    <button id="copy-room-code" class="copy-btn">üìã Copy Code</button>
                </div>
                <div class="players-info-section">
                    <div id="players-info">Players: 1/2</div>
                    <div id="players-list" class="players-list">
                        <!-- Player items will be added here -->
                    </div>
                </div>
            </div>
            <div class="ready-section">
                <button id="ready-btn" class="ready-btn">Ready</button>
                <p class="ready-status-text">Waiting for all players to be ready...</p>
            </div>
            <button id="leave-room-btn" class="back-btn">‚Üê Leave Room</button>
        </div>
        
        <div id="game-screen" class="screen">
            <div class="game-header">
                <h2 id="game-mode-title">Player vs AI</h2>
                <div class="game-info">
                    <span id="difficulty-display" class="difficulty-badge">Easy</span>
                    <span class="round-info">Round <span id="current-round">1</span></span>
                </div>
            </div>
            
            <div class="score-board">
                <div class="player-score">
                    <div class="score-label">You</div>
                    <div class="score-value" id="player-score">0</div>
                </div>
                <div class="score-separator">-</div>
                <div class="opponent-score">
                    <div class="score-label" id="opponent-label">AI</div>
                    <div class="score-value" id="opponent-score">0</div>
                </div>
            </div>
            
            <div class="game-area">
                <div class="moves-display">
                    <div class="player-move">
                        <div class="move-label">Your Move</div>
                        <div class="move-icon" id="player-move-display">‚ùì</div>
                    </div>
                    <div class="vs-indicator">VS</div>
                    <div class="opponent-move">
                        <div class="move-label" id="opponent-move-label">AI Move</div>
                        <div class="move-icon" id="opponent-move-display">‚ùì</div>
                        <div class="ai-thinking hidden" id="ai-thinking">ü§î</div>
                    </div>
                </div>
                
                <div class="result-display hidden" id="result-display">
                    <div class="result-text" id="result-text"></div>
                    <div class="result-details" id="result-details"></div>
                </div>
                
                <div class="move-selection" id="move-selection">
                    <h3>Choose your move:</h3>
                    <div class="move-buttons">
                        <button class="move-btn" data-move="rock">
                            <div class="move-emoji">ü™®</div>
                            <div class="move-name">Rock</div>
                        </button>
                        <button class="move-btn" data-move="paper">
                            <div class="move-emoji">üìÑ</div>
                            <div class="move-name">Paper</div>
                        </button>
                        <button class="move-btn" data-move="scissors">
                            <div class="move-emoji">‚úÇÔ∏è</div>
                            <div class="move-name">Scissors</div>
                        </button>
                    </div>
                    <div class="move-timer">
                        <div class="timer-bar" id="timer-bar"></div>
                        <div class="timer-text">Time remaining: <span id="timer-seconds">15</span>s</div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button id="play-again-btn" class="control-btn hidden">Play Again</button>
                    <button id="quit-game-btn" class="control-btn">Quit Game</button>
                </div>
            </div>
        </div>
        
        <div id="loading" class="screen">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>
    
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="js/authService.js"></script>
    <script src="js/socketClient.js"></script>
    <script src="js/AIEngine.js"></script>
    <script src="js/main.js"></script>
</body>
</html>